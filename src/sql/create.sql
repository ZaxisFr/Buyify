CREATE TABLE Categorie (nom varchar(100) NOT NULL, parent varchar(100), PRIMARY KEY (nom), FOREIGN KEY(parent) REFERENCES Categorie(nom));
CREATE TABLE Favori ("id-utilisateur" integer(10) NOT NULL, "id-produit" integer(10) NOT NULL, PRIMARY KEY ("id-utilisateur", "id-produit"), FOREIGN KEY("id-utilisateur") REFERENCES Utilisateur(id), FOREIGN KEY("id-produit") REFERENCES Produit(id));
CREATE TABLE Message (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Contenu varchar(65565) NOT NULL, "date" timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL, lu boolean DEFAULT '0' NOT NULL, emetteur integer(10) NOT NULL, recepteur integer(10) NOT NULL, FOREIGN KEY(emetteur) REFERENCES Utilisateur(id), FOREIGN KEY(recepteur) REFERENCES Utilisateur(id));
CREATE TABLE Produit (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, intitule varchar(100) NOT NULL, description varchar(65565) NOT NULL, prix float(10) NOT NULL, photo varchar(255) NOT NULL, categorie varchar(100) NOT NULL, "vendu-par" integer(10) NOT NULL, FOREIGN KEY(categorie) REFERENCES Categorie(nom), FOREIGN KEY("vendu-par") REFERENCES Utilisateur(id));
CREATE TABLE Utilisateur (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, nom varchar(30) NOT NULL, prenom varchar(30) NOT NULL, email varchar(50) NOT NULL UNIQUE, "mot-de-passe" varchar(64) NOT NULL);
CREATE INDEX Utilisateur_id ON Utilisateur (id);
